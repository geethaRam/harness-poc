harnessApiVersion: '1.0'
type: BUILD
phases:
- daemonSet: false
  name: Phase 1
  phaseSteps:
  - type: PREPARE_STEPS
    name: Prepare Steps
    steps:
    - type: SHELL_SCRIPT
      name: Shell Script
      properties:
        scriptType: BASH
        scriptString: "ï»¿mkdir -p /staging\ncd /staging/example-springboot\nrm -rf\
          \  ~/.aws/credentials\n\n#aws s3 cp s3://7542-4930-3703-application-staging/PET/harness-poc/\
          \ . --sse --recursive\nls -R -latr\n\nexport ACCOUNT=754249303703; export\
          \ IAM_ROLE=JENKINS_PET\ncat ~/.aws/*\n\npython assumeRole.py\n\nexport AWS_PROFILE=JENKINS_PET\n\
          \nprovision autoscale dev fresh\n"
        timeoutMillis: 600000
        connectionType: SSH
        executeOnDelegate: true
    stepsInParallel: false
  - type: COLLECT_ARTIFACT
    name: Collect Artifact
    stepsInParallel: false
  - type: WRAP_UP
    name: Wrap Up
    stepsInParallel: false
  provisionNodes: false
templatized: false
